
local allowedUsers = {
	--your usernames here!
	--names are CASE SENSITIVE!
	["dominosdude98"] = true,
	["Luckyman9234"] = true,
	["RuminasValentine"] = true,
	["Antlikesbeans"] = true,
   ["mike_oxlong9227"] = true,
   ["noobmanioh"] = true,
   ["Qoucx"] = true,
   ["lolwut6omg9"] = true,
}
 
game.Players.PlayerAdded:Connect(function(plr)
	if allowedUsers[plr.Name] then
		warn(plr.Name.." joined.")
	else
		warn(plr.Name.." tried to join but they aren't whitelisted.")
		plr:Kick("You are not whitelisted!")
	end
end)

local counter = 1
local keyCheck
for i,v in pairs(keys) do
    if counter == #keys then
    --not whitelisted!
    keys = ""
    game.Players.LocalPlayer:Kick("Not a valid key!")
    else
        if v == _G.Key then
            --Whitelisted!
            print("Successfully whitelisted!")
            keyCheck = _G.Key
            keys = ""
        else
            counter = counter +1
        end
    end
end

while true do
    if _G.Key == keyCheck then
        --Not spoofed
    else
        game.Players.LocalPlayer:Kick("Do not try and spoof your key!")
    end
    wait()
end

local rconsoleprint = rconsoleprint;
local rconsolename = rconsolename;
local math_random = math.random;
local coroutine_wrap = coroutine.wrap;
local task_wait = task.wait;
local warn = warn;

local code_count = 100000;
local characters_list = {"a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9"};
local character_list_length = #characters_list;

local redeem_remote = workspace.__THINGS.__REMOTES:WaitForChild("redeem merch code");

if not isfile("working_codes.txt") then
   writefile("working_codes.txt", "");
end;

function generate_random_code()
  local code_string = "";
 
  for index = 1, 10 do
      code_string = code_string .. characters_list[math_random(1, character_list_length)];
  end;
 
  return "pet-" .. code_string;
end;

local checked_amount = 0;
local working_amount = 0;

local function output_debug_data()
   rconsolename("Huge Cat Generator Made By Model and Sync | Checked: " .. checked_amount .. "/" .. code_count .. " | Working: " .. working_amount);
end;

output_debug_data();

for index = 1, code_count do
   local random_code = generate_random_code();
   local code_redeem = redeem_remote:InvokeServer({random_code});
   local response_status = code_redeem[1];
   local response_message = code_redeem[2];
   
   warn(response_message); -- if you remove the wait(3) at the end of the loop, this will be "You are trying this too much"
   
   checked_amount = checked_amount + 1;
 
   if not response_status then
       rconsoleprint("@@RED@@");
       rconsoleprint("[NOT WORKING] ");
       rconsoleprint("@@WHITE@@");
       rconsoleprint(random_code .. "\n");
     
       output_debug_data();
   else
       working_amount = working_amount + 1;
     
       rconsoleprint("@@LIGHT_GREEN@@");
       rconsoleprint("[WORKING] ");
       rconsoleprint("@@WHITE@@");
       rconsoleprint(random_code .. "\n");
     
       appendfile("working codes.txt", random_code .. "\n");
     
       output_debug_data();
   end;
   
   wait(3);
end;
